{"version":3,"sources":["../src/markers.js"],"names":["leaflet","Marker","markers","overrideOptions","options","Object","assign","iconSize","iconAnchor","L","Util","setOptions","events","addLayer","marker","event","coord","icon","Markers","symbols","type","markerColor","color","div","document","createElement","_setInnerHTML","_setClass","_setStyle","className","pinPath","VectorMarkers","MAP_PIN","iconClass","iconColorStyle","iconColor","innerHTML","size","point","anchor","style","marginLeft","x","marginTop","y","width","height","Icon"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAYA,a;;;;;;;;;;;;;;;;;;;;;wBAECC,M;;;AACX,wBAAaC,OAAb,EAAsBC,eAAtB,EAAuC;AAAA;;AAAA;;AAGrC,cAAIC,UAAUC,OAAOC,MAAP,CAAcH,eAAd,EACd;AACEI,sBAAU,CAAC,EAAD,EAAK,EAAL,CADZ;AAEEC,wBAAY,CAAC,EAAD,EAAK,EAAL;AACZ;AAHF,WADc,CAAd;;AAOA,gBAAKJ,OAAL,GAAeK,EAAEC,IAAF,CAAOC,UAAP,QAAwBP,OAAxB,CAAf;AAVqC;AAWtC;;;;+BAEKQ,M,EAAQ;AACZ,iBAAKV,OAAL,CAAaW,QAAb,CAAsBJ,EAAEK,MAAF,CAASC,MAAMC,KAAf,EAAsB;AAC1CC,oBAAM,IAAIC,OAAJ,CAAY;AAChBD,sBAAM,KAAKb,OAAL,CAAae,OAAb,CAAqBJ,MAAMK,IAA3B,EAAiCH,IADvB;AAEhBI,6BAAa,KAAKjB,OAAL,CAAae,OAAb,CAAqBJ,MAAMK,IAA3B,EAAiCE;AAF9B,eAAZ;AADoC,aAAtB,CAAtB;AAMA,gBAAIC,MAAMC,SAASC,aAAT,CAAuB,KAAvB,CAAV;AACA,iBAAKC,aAAL,CAAmBH,GAAnB;AACA,iBAAKI,SAAL,CAAeJ,GAAf;AACA,iBAAKK,SAAL,CAAeL,GAAf;AACA,mBAAOA,GAAP;AACD;;;oCAEUA,G,EAAK;AACdA,gBAAIM,SAAJ,GAAgB,kCAAhB;AACD;;;wCAEcN,G,EAAK;AAClB,gBAAIO,UAAUrB,EAAEsB,aAAF,CAAgBC,OAA9B;AACA,gBAAIX,cAAc,KAAKjB,OAAL,CAAaiB,WAA/B;AACA,gBAAIY,uBAAqB,KAAK7B,OAAL,CAAaa,IAAtC;AACA,gBAAIiB,iBAAiB,KAAK9B,OAAL,CAAa+B,SAAlC;;AAEAZ,gBAAIa,SAAJ,GAAgB,6CACYN,OADZ,gBAC8BT,WAD9B,kCAEmBa,cAFnB,iBAE6CD,SAF7C,iBAGA,QAHhB;AAID;;;oCAEUV,G,EAAK;AACd,gBAAIc,OAAO5B,EAAE6B,KAAF,CAAQ,KAAKlC,OAAL,CAAaG,QAArB,CAAX;AACA,gBAAIgC,SAAS9B,EAAE6B,KAAF,CAAQ,KAAKlC,OAAL,CAAaI,UAArB,CAAb;;AAEAe,gBAAIiB,KAAJ,CAAUC,UAAV,GAAwB,CAACF,OAAOG,CAAT,GAAc,IAArC;AACAnB,gBAAIiB,KAAJ,CAAUG,SAAV,GAAuB,CAACJ,OAAOK,CAAT,GAAc,IAApC;AACArB,gBAAIiB,KAAJ,CAAUK,KAAV,GAAkBR,KAAKK,CAAL,GAAS,IAA3B;AACAnB,gBAAIiB,KAAJ,CAAUM,MAAV,GAAmBT,KAAKO,CAAL,GAAS,IAA5B;AACD;;;;QApDyBnC,EAAEsC,I","file":"markers.js","sourcesContent":["import * as leaflet from './external/leaflet/leaflet'\n\nexport class Marker extends L.Icon {\n  constructor (markers, overrideOptions) {\n    super()\n\n    var options = Object.assign(overrideOptions,\n    {\n      iconSize: [30, 50],\n      iconAnchor: [15, 50],\n      // iconColor: \"white\"\n    })\n   \n    this.options = L.Util.setOptions(this, options)\n  }\n\n  call (events) {\n    this.markers.addLayer(L.marker(event.coord, {\n      icon: new Markers({\n        icon: this.options.symbols[event.type].icon,\n        markerColor: this.options.symbols[event.type].color\n      })\n    }))\n    var div = document.createElement(\"div\")\n    this._setInnerHTML(div)\n    this._setClass(div)\n    this._setStyle(div)\n    return div\n  }\n\n  _setClass (div) {\n    div.className = 'vector-marker-icon vector-marker' \n  }\n\n  _setInnerHTML (div) {\n    var pinPath = L.VectorMarkers.MAP_PIN\n    var markerColor = this.options.markerColor\n    var iconClass = `fa fa-${this.options.icon}`\n    var iconColorStyle = this.options.iconColor\n\n    div.innerHTML = '<svg viewBox=\"0 0 30 50\">'+\n                    `<path d=\"${pinPath}\" fill=\"${markerColor}\"/>` +\n                    `<i style=\"color:${iconColorStyle}\" class=\"${iconClass} icon\"/>` +\n                    '</svg>'\n  }\n\n  _setStyle (div) {\n    var size = L.point(this.options.iconSize)\n    var anchor = L.point(this.options.iconAnchor)\n\n    div.style.marginLeft = (-anchor.x) + \"px\"\n    div.style.marginTop = (-anchor.y) + \"px\"\n    div.style.width = size.x + \"px\"\n    div.style.height = size.y + \"px\"\n  }\n}\n"]}